<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>浏览器远程控制器 v2.0</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <header>
        <h1>浏览器远程控制器 v2.0</h1>
        <div class="status-bar">
            <span>服务器连接:</span>
            <span id="serverStatus" class="status-indicator disconnected"></span>
        </div>
    </header>

    <main>
        <div class="control-panel">
            <h2>控制面板</h2>
            <div class="form-group">
                <label for="agentSelector">选择目标代理:</label>
                <select id="agentSelector" disabled>
                    <option>等待代理连接...</option>
                </select>
            </div>

            <!-- 1. 标签页与页面操作 -->
            <fieldset>
                <legend>标签页 & 页面操作</legend>
                <div class="form-group">
                    <input type="text" id="urlInput" placeholder="https://example.com" value="https://www.google.com">
                    <button id="createTabBtn">创建标签页</button>
                </div>
                <div class="form-group">
                    <input type="text" id="searchInput" placeholder="搜索关键词...">
                    <button id="searchBtn">执行搜索</button>
                </div>
                <div class="form-group multi-button">
                    <button id="getTitleBtn">获取页面信息</button>
                    <button id="capturePageBtn">捕获完整页面</button>
                </div>
            </fieldset>

            <!-- 2. AI 助手 -->
            <fieldset>
                <legend>AI 助手 (Google AI Studio)</legend>
                <div class="form-group vertical">
                    <textarea id="aiPrompt" rows="5" placeholder="在此输入您想问AI的问题..."></textarea>
                    <button id="askAiBtn">发送给 AI</button>
                </div>
                <div class="response-preview">
                    <strong>AI 响应预览:</strong>
                    <pre id="aiResponsePreview">等待AI响应...</pre>
                </div>
            </fieldset>

            <!-- 3. Cookie 管理 -->
            <fieldset>
                <legend>Cookie 管理</legend>
                <div class="form-group">
                    <select id="cookieActionSelect">
                        <option value="getAll">获取全部Cookie</option>
                        <option value="get">获取单个Cookie</option>
                        <option value="set">设置Cookie</option>
                        <option value="remove">删除Cookie</option>
                    </select>
                    <button id="cookieBtn">执行</button>
                </div>
                <div class="form-group">
                    <input type="text" id="cookieUrl" placeholder="URL (例如: https://github.com)">
                </div>
                <div id="cookieNameGroup" class="form-group hidden">
                    <input type="text" id="cookieName" placeholder="Cookie 名称">
                </div>
                <div id="cookieValueGroup" class="form-group hidden">
                    <input type="text" id="cookieValue" placeholder="Cookie 值">
                </div>
            </fieldset>

            <!-- 4. 系统与浏览器信息 -->
            <fieldset>
                <legend>系统 & 浏览器信息</legend>
                <div class="form-group multi-button">
                    <button id="getSystemInfoBtn">获取系统信息</button>
                    <button id="getProcessesBtn">获取浏览器进程</button>
                </div>
            </fieldset>

            <!-- 5. 实用工具 -->
            <fieldset>
                <legend>实用工具</legend>
                <div class="form-group">
                    <input type="text" id="ttsInput" placeholder="输入要朗读的文本...">
                    <button id="speakBtn">语音朗读</button>
                </div>
            </fieldset>

            <!-- 6. 高级: 网络规则 -->
            <fieldset>
                <legend>高级: 动态网络规则</legend>
                <div class="form-group vertical">
                    <label for="netAddRulesInput">添加规则 (JSON格式数组):</label>
                    <textarea id="netAddRulesInput" class="code-input" rows="6" placeholder='[{"id": 101, "action": {"type": "block"}, "condition": {"urlFilter": "||example.com/ads.js"}}]'></textarea>
                </div>
                <div class="form-group vertical">
                    <label for="netRemoveRuleIdsInput">移除规则 (ID, 逗号分隔):</label>
                    <input type="text" id="netRemoveRuleIdsInput" placeholder="101, 102">
                </div>
                <button id="updateNetRulesBtn">更新网络规则</button>
            </fieldset>

        </div>

        <div class="log-panel">
            <h2>日志 & 结果</h2>
            <pre id="logArea">等待连接...</pre>
        </div>
    </main>
</div>

<script src="app.js"></script>
</body>
</html>